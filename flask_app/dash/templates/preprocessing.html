{% extends "layout.html" %}
{% block content %}
	<div class="container">
		<div class="jumbotron">
			<h1>Preprocessing</h1>
			<p>We cleaned our dataset before using it to train our model</p>
		</div>
	</div>

	<div class="container">
		<form method="POST" action="">
			{{ form.hidden_tag() }}
			{{ form.submit(class="btn btn-primary") }} (may take several minutes to complete)
		</form>
	</div>

	{% if messages %}
		<div class="container">
			{% for message in messages %}
				<div class="alert alert-secondary" role="alert">
  					{{ message }}
				</div>
			{% endfor %}
		</div>
	{% endif %}

	<div class="container">
		<h3>The model gets {{ accuracy }}% accuracy!</h3>
		<p>Here are the most informative features found in the current model</p>
		<table>
			<tr>
				<th colspan="10">Most informative Features (Lemmas)</th>
			</tr>
			{% for i in range(features | length) %}
			 	{% if i % 10 == 0 %}<tr> {% endif %}
					<td>{{ features[i][0] }}</td>
				{% if i+9 % 10 == 0 %}</tr> {% endif %}
			{% endfor %}
		</table>
	</div>

	<div class="container">
		<table>
			<tr>
				<th>Feature</th>
				<th>Sentiment</th>
				<th>Certainty</th>
			</tr>
			{% for i in range(output_string_to_list | length) %}
			 	{% if i % 10 == 0 %}
			 		<tr> 
						<td>{{ output_string_to_list[i][0] | upper }}{{ output_string_to_list[i][1:] }}</td>
				{% endif %}
				{% if i % 10 == 3 %}
					
						<td>{% if output_string_to_list[i] == "pos" %} Positive {% else  %} Negative {% endif %}</td>
				{% endif %}
				{% if i % 10 == 7 %}
						<td>{{ output_string_to_list[i] }}%</td>
					</tr>
				{% endif %}

			{% endfor %}
		</table>
	</div>
{% endblock content %}